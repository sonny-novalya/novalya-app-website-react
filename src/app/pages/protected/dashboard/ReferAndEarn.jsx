import { message } from 'antd';
import { CopyAffiliateIcon } from '../../common/icons/icons'

const ReferAndEarn = ({ code }) => {

    const handleCopy = async () => {
        try {
            await navigator.clipboard.writeText(code);
            message.success("Copied to clipboard!");
        } catch (err) {
            console.log("err", err)
            message.error("Failed to copy!");
        }
    };

    return (
        <div className="bg-white rounded-[16px] overflow-hidden relative dashboard-ig-card shadow-lg">
            <div className="bg-gradient-to-r from-[#005199] to-[#0087FF] rounded-t h-15 flex items-center text-white font-medium text-2xl px-3 space-x-2">
                <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M30.3898 8.00026C30.9207 8.00042 31.4451 8.11762 31.9256 8.34353C32.4061 8.56943 32.8308 8.89848 33.1695 9.30724C33.5083 9.716 33.7527 10.1944 33.8854 10.7084C34.0181 11.2224 34.0358 11.7593 33.9372 12.2809C33.8387 12.8025 33.6263 13.296 33.3152 13.7261C33.0041 14.1563 32.602 14.5126 32.1375 14.7697C31.6729 15.0267 31.1574 15.1782 30.6276 15.2133C30.0978 15.2484 29.5668 15.1663 29.0724 14.9728L22.4913 21.5511C23.5726 23.1182 24.0526 25.0225 23.8433 26.9148L27.6337 28.0514C28.1701 27.4187 28.9081 26.99 29.7236 26.8373C30.539 26.6846 31.3822 26.8173 32.1113 27.213C32.8404 27.6087 33.411 28.2434 33.7271 29.0102C34.0433 29.7771 34.0857 30.6294 33.8472 31.4239C33.6087 32.2183 33.104 32.9064 32.4177 33.3725C31.7315 33.8386 30.9057 34.0543 30.0791 33.9833C29.2525 33.9122 28.4756 33.5588 27.879 32.9825C27.2824 32.4061 26.9025 31.642 26.8031 30.8185L23.0142 29.6805C22.2132 31.2425 20.9173 32.4954 19.3288 33.2432C17.7403 33.991 15.9488 34.1916 14.2342 33.8138C12.5196 33.436 10.9785 32.501 9.85164 31.1548C8.72479 29.8087 8.0757 28.1272 8.00578 26.3733L8 26.0526L8.00578 25.7335C8.06208 24.3277 8.49082 22.9621 9.24817 21.7764C10.0055 20.5906 11.0643 19.6272 12.3162 18.9848L11.1779 15.1952C10.3454 15.0947 9.57382 14.7077 8.99555 14.1006C8.41728 13.4935 8.06836 12.704 8.00867 11.8678L8 11.6107L8.00722 11.3739C8.04631 10.7789 8.23219 10.2028 8.54827 9.69709C8.86436 9.19141 9.3008 8.77187 9.81861 8.47595C10.3364 8.18003 10.9195 8.01694 11.5157 8.00125C12.1119 7.98556 12.7028 8.11776 13.2354 8.38605C13.7681 8.65433 14.226 9.05034 14.5683 9.5387C14.9105 10.0271 15.1264 10.5926 15.1968 11.1847C15.2671 11.7769 15.1897 12.3772 14.9713 12.9321C14.753 13.4871 14.4006 13.9793 13.9456 14.3648L15.0824 18.1558C16.9751 17.9466 18.8798 18.4265 20.4473 19.5076L27.027 12.9278C26.8915 12.5823 26.8102 12.2179 26.7858 11.8476L26.7785 11.6107L26.7858 11.3739C26.8459 10.4592 27.2518 9.60165 27.9211 8.97515C28.5904 8.34865 29.4729 8.00012 30.3898 8.00026Z" fill="url(#paint0_linear_7829_2495)" fillOpacity="0.2" />
                    <path d="M30.3898 8.00026C30.9207 8.00042 31.4451 8.11762 31.9256 8.34353C32.4061 8.56943 32.8308 8.89848 33.1695 9.30724C33.5083 9.716 33.7527 10.1944 33.8854 10.7084C34.0181 11.2224 34.0358 11.7593 33.9372 12.2809C33.8387 12.8025 33.6263 13.296 33.3152 13.7261C33.0041 14.1563 32.602 14.5126 32.1375 14.7697C31.6729 15.0267 31.1574 15.1782 30.6276 15.2133C30.0978 15.2484 29.5668 15.1663 29.0724 14.9728L22.4913 21.5511C23.5726 23.1182 24.0526 25.0225 23.8433 26.9148L27.6337 28.0514C28.1701 27.4187 28.9081 26.99 29.7236 26.8373C30.539 26.6846 31.3822 26.8173 32.1113 27.213C32.8404 27.6087 33.411 28.2434 33.7271 29.0102C34.0433 29.7771 34.0857 30.6294 33.8472 31.4239C33.6087 32.2183 33.104 32.9064 32.4177 33.3725C31.7315 33.8386 30.9057 34.0543 30.0791 33.9833C29.2525 33.9122 28.4756 33.5588 27.879 32.9825C27.2824 32.4061 26.9025 31.642 26.8031 30.8185L23.0142 29.6805C22.2132 31.2425 20.9173 32.4954 19.3288 33.2432C17.7403 33.991 15.9488 34.1916 14.2342 33.8138C12.5196 33.436 10.9785 32.501 9.85164 31.1548C8.72479 29.8087 8.0757 28.1272 8.00578 26.3733L8 26.0526L8.00578 25.7335C8.06208 24.3277 8.49082 22.9621 9.24817 21.7764C10.0055 20.5906 11.0643 19.6272 12.3162 18.9848L11.1779 15.1952C10.3454 15.0947 9.57382 14.7077 8.99555 14.1006C8.41728 13.4935 8.06836 12.704 8.00867 11.8678L8 11.6107L8.00722 11.3739C8.04631 10.7789 8.23219 10.2028 8.54827 9.69709C8.86436 9.19141 9.3008 8.77187 9.81861 8.47595C10.3364 8.18003 10.9195 8.01694 11.5157 8.00125C12.1119 7.98556 12.7028 8.11776 13.2354 8.38605C13.7681 8.65433 14.226 9.05034 14.5683 9.5387C14.9105 10.0271 15.1264 10.5926 15.1968 11.1847C15.2671 11.7769 15.1897 12.3772 14.9713 12.9321C14.753 13.4871 14.4006 13.9793 13.9456 14.3648L15.0824 18.1558C16.9751 17.9466 18.8798 18.4265 20.4473 19.5076L27.027 12.9278C26.8915 12.5823 26.8102 12.2179 26.7858 11.8476L26.7785 11.6107L26.7858 11.3739C26.8459 10.4592 27.2518 9.60165 27.9211 8.97515C28.5904 8.34865 29.4729 8.00012 30.3898 8.00026Z" fill="white" />
                    <defs>
                        <linearGradient id="paint0_linear_7829_2495" x1="21" y1="8" x2="21" y2="34" gradientUnits="userSpaceOnUse">
                            <stop />
                            <stop offset="1" stopColor="#666666" />
                        </linearGradient>
                    </defs>
                </svg>
                <span>Refer & Earn 40%</span>
            </div>
            <div className="p-5">
                <label className="block text-xl font-semibold text-black mb-1">Your Affiliate link</label>
                <div className="relative w-full ">
                    <input
                        type="text"
                        value={code}
                        readOnly
                        className="w-full p-3 border border-gray-300 rounded-md text-sm pr-14 truncate"
                    />
                    <div className="absolute inset-y-0 right-2 flex items-center">
                        <button onClick={handleCopy} className='cursor-pointer' >
                            <CopyAffiliateIcon />
                        </button>
                    </div>
                </div>
            </div>


        </div>
    )
}

export default ReferAndEarn
