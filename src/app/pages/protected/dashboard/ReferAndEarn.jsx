import { message } from 'antd';
import { CopyAffiliateIcon } from '../../common/icons/icons'

const ReferAndEarn = ({ code }) => {

    const handleCopy = async () => {
        try {
            await navigator.clipboard.writeText(code);
            message.success("Copied to clipboard!");
        } catch (err) {
            console.log("err", err)
            message.error("Failed to copy!");
        }
    };

    return (
        <div className="bg-white rounded-[16px] overflow-hidden relative dashboard-ig-card shadow-lg">
            <div className=" pl-5 rounded-t h-15 flex items-center text-black font-medium text-2xl space-x-2 shadow-sm">
                <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22.3898 0.000260941C22.9207 0.000415653 23.4451 0.11762 23.9256 0.343526C24.4061 0.569432 24.8308 0.898482 25.1695 1.30724C25.5083 1.716 25.7527 2.19441 25.8854 2.70839C26.0181 3.22238 26.0358 3.75929 25.9372 4.2809C25.8387 4.80251 25.6263 5.29597 25.3152 5.72614C25.0041 6.15632 24.602 6.51262 24.1375 6.76967C23.6729 7.02672 23.1574 7.17819 22.6276 7.21331C22.0978 7.24842 21.5668 7.16631 21.0724 6.97282L14.4913 13.5511C15.5726 15.1182 16.0526 17.0225 15.8433 18.9148L19.6337 20.0514C20.1701 19.4187 20.9081 18.99 21.7236 18.8373C22.539 18.6846 23.3822 18.8173 24.1113 19.213C24.8404 19.6087 25.411 20.2434 25.7271 21.0102C26.0433 21.7771 26.0857 22.6294 25.8472 23.4239C25.6087 24.2183 25.104 24.9064 24.4177 25.3725C23.7315 25.8386 22.9057 26.0543 22.0791 25.9833C21.2525 25.9122 20.4756 25.5588 19.879 24.9825C19.2824 24.4061 18.9025 23.642 18.8031 22.8185L15.0142 21.6805C14.2132 23.2425 12.9173 24.4954 11.3288 25.2432C9.74032 25.991 7.94883 26.1916 6.23422 25.8138C4.51962 25.436 2.97849 24.501 1.85164 23.1548C0.724792 21.8087 0.0756974 20.1272 0.00577794 18.3733L0 18.0526L0.00577794 17.7335C0.0620771 16.3277 0.490822 14.9621 1.24817 13.7764C2.00551 12.5906 3.06427 11.6272 4.31617 10.9848L3.17791 7.19522C2.3454 7.09473 1.57382 6.70772 0.995551 6.10059C0.41728 5.49345 0.0683639 4.70405 0.00866708 3.8678L0 3.61074L0.00722268 3.37389C0.0463059 2.77886 0.232191 2.20278 0.548274 1.69709C0.864358 1.19141 1.3008 0.771869 1.81861 0.475947C2.33642 0.180026 2.91948 0.0169374 3.51571 0.00124983C4.11194 -0.0144377 4.70278 0.117764 5.23544 0.386046C5.76811 0.654328 6.22601 1.05034 6.56826 1.5387C6.91051 2.02707 7.12645 2.59258 7.19678 3.18472C7.26711 3.77687 7.18965 4.37722 6.97132 4.93214C6.75299 5.48705 6.40058 5.97927 5.94557 6.36481L7.0824 10.1558C8.97511 9.94658 10.8798 10.4265 12.4473 11.5076L19.027 4.92784C18.8915 4.58229 18.8102 4.21793 18.7858 3.84759L18.7785 3.61074L18.7858 3.37389C18.8459 2.45921 19.2518 1.60165 19.9211 0.975147C20.5904 0.348647 21.4729 0.000119777 22.3898 0.000260941Z" fill="url(#paint0_linear_8337_2909)" fillOpacity="0.2" />
                    <path d="M22.3898 0.000260941C22.9207 0.000415653 23.4451 0.11762 23.9256 0.343526C24.4061 0.569432 24.8308 0.898482 25.1695 1.30724C25.5083 1.716 25.7527 2.19441 25.8854 2.70839C26.0181 3.22238 26.0358 3.75929 25.9372 4.2809C25.8387 4.80251 25.6263 5.29597 25.3152 5.72614C25.0041 6.15632 24.602 6.51262 24.1375 6.76967C23.6729 7.02672 23.1574 7.17819 22.6276 7.21331C22.0978 7.24842 21.5668 7.16631 21.0724 6.97282L14.4913 13.5511C15.5726 15.1182 16.0526 17.0225 15.8433 18.9148L19.6337 20.0514C20.1701 19.4187 20.9081 18.99 21.7236 18.8373C22.539 18.6846 23.3822 18.8173 24.1113 19.213C24.8404 19.6087 25.411 20.2434 25.7271 21.0102C26.0433 21.7771 26.0857 22.6294 25.8472 23.4239C25.6087 24.2183 25.104 24.9064 24.4177 25.3725C23.7315 25.8386 22.9057 26.0543 22.0791 25.9833C21.2525 25.9122 20.4756 25.5588 19.879 24.9825C19.2824 24.4061 18.9025 23.642 18.8031 22.8185L15.0142 21.6805C14.2132 23.2425 12.9173 24.4954 11.3288 25.2432C9.74032 25.991 7.94883 26.1916 6.23422 25.8138C4.51962 25.436 2.97849 24.501 1.85164 23.1548C0.724792 21.8087 0.0756974 20.1272 0.00577794 18.3733L0 18.0526L0.00577794 17.7335C0.0620771 16.3277 0.490822 14.9621 1.24817 13.7764C2.00551 12.5906 3.06427 11.6272 4.31617 10.9848L3.17791 7.19522C2.3454 7.09473 1.57382 6.70772 0.995551 6.10059C0.41728 5.49345 0.0683639 4.70405 0.00866708 3.8678L0 3.61074L0.00722268 3.37389C0.0463059 2.77886 0.232191 2.20278 0.548274 1.69709C0.864358 1.19141 1.3008 0.771869 1.81861 0.475947C2.33642 0.180026 2.91948 0.0169374 3.51571 0.00124983C4.11194 -0.0144377 4.70278 0.117764 5.23544 0.386046C5.76811 0.654328 6.22601 1.05034 6.56826 1.5387C6.91051 2.02707 7.12645 2.59258 7.19678 3.18472C7.26711 3.77687 7.18965 4.37722 6.97132 4.93214C6.75299 5.48705 6.40058 5.97927 5.94557 6.36481L7.0824 10.1558C8.97511 9.94658 10.8798 10.4265 12.4473 11.5076L19.027 4.92784C18.8915 4.58229 18.8102 4.21793 18.7858 3.84759L18.7785 3.61074L18.7858 3.37389C18.8459 2.45921 19.2518 1.60165 19.9211 0.975147C20.5904 0.348647 21.4729 0.000119777 22.3898 0.000260941Z" fill="url(#paint1_linear_8337_2909)" />
                    <defs>
                        <linearGradient id="paint0_linear_8337_2909" x1="13" y1="0" x2="13" y2="26" gradientUnits="userSpaceOnUse">
                            <stop />
                            <stop offset="1" stopColor="#666666" />
                        </linearGradient>
                        <linearGradient id="paint1_linear_8337_2909" x1="0" y1="0" x2="28.3366" y2="2.86148" gradientUnits="userSpaceOnUse">
                            <stop stopColor="#0087FF" />
                            <stop offset="1" stopColor="#005199" />
                        </linearGradient>
                    </defs>
                </svg>

                <span>Refer & Earn 40%</span>
            </div>
            <div className="p-5">
                <label className="block text-xl font-semibold text-black mb-1">Your Affiliate link</label>
                <div className="relative w-full ">
                    <input
                        type="text"
                        value={code}
                        readOnly
                        className="w-full p-3 border border-gray-300 rounded-md text-sm pr-14 truncate"
                    />
                    <div className="absolute inset-y-0 right-2 flex items-center">
                        <button onClick={handleCopy} className='cursor-pointer' >
                            <CopyAffiliateIcon />
                        </button>
                    </div>
                </div>
            </div>


        </div>
    )
}

export default ReferAndEarn
