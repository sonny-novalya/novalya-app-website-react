import { BarChartOutlined, SendOutlined, RobotOutlined, TagsOutlined, UserOutlined } from '@ant-design/icons';
import { t } from 'i18next';
import PropTypes from "prop-types";

const MonthlyUsage = ({ data }) => {
    const usageData = [
        {
            // icon: <SendOutlined />,
            icon: <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M27.7578 2.50012L2.75781 10.8335L14.7369 15.521M27.7578 2.50012L19.4244 27.5001L14.7369 15.521M27.7578 2.50012L14.7369 15.521" stroke="#0087FF" stroke-width="2.91667" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>,
            label: t("dashboard.Messages"),
            current: (data?.fbMessageLimit || 0) + (data?.igMessageLimit || 0),
            total: 2000,
        },
        {
            // icon: <RobotOutlined />,
            icon: <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.1115 0.873512C20.0528 1.06924 19.8571 1.89129 19.6809 2.69377C18.7415 6.80402 16.9603 8.52642 12.6348 9.48548C11.891 9.64206 11.1473 9.81821 11.0298 9.85736C10.8928 9.8965 10.7754 10.0922 10.7754 10.3075C10.7754 10.5815 10.9515 10.7381 11.3234 10.836C13.0654 11.2079 15.4924 11.9712 16.1774 12.3822C18.213 13.5762 19.1329 15.279 20.092 19.6828C20.1507 20.0156 20.3073 20.1134 20.6009 20.0743C20.9532 20.0156 21.0706 19.722 21.4816 18.0779C22.245 14.8484 23.4585 13.1064 25.5723 12.1082C26.5509 11.6385 29.0758 10.9143 29.7021 10.9143C30.2306 10.9143 30.6612 10.2684 30.2893 9.99436C30.1719 9.8965 29.3498 9.66163 28.5082 9.48548C26.688 9.09402 24.8286 8.29154 23.8695 7.43035C22.8713 6.54958 22.0101 4.80761 21.4816 2.57633C21.0902 0.951803 20.9336 0.619068 20.6009 0.579922C20.3464 0.540777 20.1703 0.638639 20.1115 0.873512Z" fill="#0087FF"/>
            <path d="M27.0801 3.49631C26.9235 3.86819 26.6299 4.16178 26.258 4.31836C25.4947 4.59237 25.4947 4.74896 26.258 5.02297C26.6495 5.15998 26.9431 5.434 27.0801 5.82545C27.3541 6.56921 27.4911 6.56921 27.8043 5.84502C27.9217 5.53186 28.2936 5.15998 28.6068 5.04254C29.331 4.72938 29.331 4.59237 28.5676 4.31836C28.1957 4.16178 27.9021 3.86819 27.7456 3.49631C27.6281 3.16357 27.4716 2.88955 27.4128 2.88955C27.3541 2.88955 27.1975 3.16357 27.0801 3.49631Z" fill="#0087FF"/>
            <path d="M3.51272 4.72937C1.88819 5.29697 0.850837 6.60834 0.57682 8.44817C0.459384 9.17236 0.400666 13.4 0.439812 18.5672C0.49853 28.2361 0.478957 28.06 1.63374 29.43C1.92733 29.7823 2.55366 30.2325 3.04297 30.4674C3.90417 30.8588 4.15861 30.8784 13.5339 30.8784C20.1886 30.8784 23.379 30.8001 23.9074 30.6631C24.9448 30.35 25.9234 29.4692 26.4714 28.3927C26.902 27.4924 26.9216 27.2575 26.9803 21.7576C27.0195 18.6455 26.9803 15.7683 26.8825 15.3965C26.7454 14.9267 26.5693 14.7114 26.2561 14.6723C25.2775 14.5157 25.2579 14.6136 25.2579 21.0334C25.2579 26.729 25.2384 27.0422 24.8469 27.7468C24.6316 28.1382 24.1619 28.6276 23.8291 28.8429C23.2419 29.1952 22.7135 29.2147 13.7101 29.2147H4.21733L3.51272 28.7646C2.1622 27.9425 2.1622 27.8838 2.1622 17.6082C2.1622 7.41082 2.14263 7.5674 3.51272 6.66706C4.15861 6.21689 4.27605 6.21689 9.81511 6.21689C14.6691 6.21689 15.4912 6.17774 15.7456 5.90372C15.9218 5.74714 16.0588 5.47313 16.0588 5.33612C16.0588 5.19911 15.9218 4.92509 15.7456 4.76851C15.4912 4.4945 14.6887 4.45535 9.83468 4.45535C5.72443 4.47492 4.02161 4.53364 3.51272 4.72937Z" fill="#0087FF"/>
            <path d="M10.8732 15.8465C10.8341 15.9836 10.6971 16.4924 10.5796 16.9818C10.1099 18.8216 9.20954 19.6828 7.2327 20.1721C6.64552 20.3287 6.17578 20.5636 6.17578 20.7006C6.17578 20.8376 6.70424 21.092 7.36971 21.2877C9.38569 21.8358 10.1099 22.6187 10.6775 24.7912C10.9711 25.946 11.2842 26.0048 11.5583 24.9674C12.2237 22.3642 12.7718 21.8554 16.0208 20.9746C16.5884 20.818 16.1578 20.5244 14.8465 20.1134C12.8305 19.5066 11.9693 18.5084 11.48 16.1401C11.343 15.5921 11.0298 15.4355 10.8732 15.8465Z" fill="#0087FF"/>
            </svg>,
            label: t("dashboard.AI Credits"),
            current: data?.aiLimits || 0,
            total: 2000,
        },
        {
            icon: <svg width="30" height="32" viewBox="0 0 30 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.8229 0.607641C14.6742 0.629519 14.4248 0.69515 14.2672 0.752033C13.5059 1.02769 13.0771 1.43023 12.3464 2.57224C11.4494 3.96364 11.0469 4.55871 10.9069 4.70748C10.6793 4.94813 10.2855 5.23691 9.99238 5.37255C9.37544 5.65696 9.48045 5.65258 6.23821 5.67883C3.41602 5.70509 3.27163 5.70946 3.00035 5.79697C1.96773 6.12076 1.18452 6.92585 0.869485 7.97597C0.795102 8.22537 0.790726 8.77668 0.7776 18.4115C0.764473 29.7659 0.742596 28.9389 1.07076 29.6346C1.4733 30.4791 2.16025 31.0654 3.06598 31.328L3.41602 31.4286H15.3611H27.3062L27.6343 31.328C28.5138 31.0523 29.1789 30.4966 29.5639 29.7221C29.9184 29.0089 29.8834 30.0984 29.9009 18.7834C29.9096 11.437 29.9009 8.57978 29.8659 8.326C29.7696 7.6478 29.4764 7.07462 28.9689 6.57581C28.6013 6.21702 28.225 5.98512 27.7437 5.81885L27.3937 5.70071L24.4402 5.67883C21.1367 5.6482 21.2943 5.66571 20.5986 5.32004C20.1085 5.07939 19.6972 4.67685 19.2684 4.01615C19.089 3.74049 18.6952 3.12792 18.3889 2.65975C17.7764 1.70589 17.5051 1.3821 17.1244 1.12395C16.4725 0.677649 15.6105 0.485128 14.8229 0.607641ZM16.1006 10.6013C16.8706 10.7632 17.4832 11.1044 18.0608 11.6908C18.6909 12.3296 19.0628 13.1697 19.1284 14.0973C19.264 15.9919 17.842 17.7552 15.9387 18.0615C15.5405 18.1271 14.731 18.0965 14.3985 18.0046C13.7465 17.8208 13.1515 17.4795 12.6789 17.0026C12.2633 16.5913 11.9876 16.1756 11.7995 15.6768C11.4232 14.6836 11.4625 13.6466 11.9176 12.6796C12.377 11.6908 13.3615 10.8944 14.451 10.6275C14.8754 10.5225 15.6718 10.5094 16.1006 10.6013ZM22.2788 19.816C22.9263 20.0304 23.3989 20.3192 23.8671 20.7786C24.9303 21.8331 25.2366 23.3952 24.6546 24.8041C24.4796 25.2373 24.2477 25.5698 23.8539 25.9636C23.4558 26.3661 23.132 26.5849 22.6725 26.7774C21.9637 27.0706 22.4756 27.0487 15.5799 27.0662C11.2438 27.075 9.20917 27.0662 8.95976 27.0312C8.1678 26.9262 7.4721 26.5937 6.88578 26.0336C6.1157 25.2985 5.7394 24.4278 5.7394 23.3996C5.7394 22.8351 5.79629 22.5245 5.98443 22.0344C6.42636 20.8705 7.57273 19.9342 8.80662 19.7242C8.92476 19.7067 11.922 19.6935 15.4705 19.6979L21.9243 19.7023L22.2788 19.816Z" fill="#0087FF"/>
            </svg>
        ,
            label: t("dashboard.Tag + Pipeline"),
            current: data?.tagsLimit || 0,
            total: 2000,
        },
        {
            icon: <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_4870_13061)">
                <path d="M3.82284 0.691896C2.75007 0.975155 1.77373 1.80083 1.29762 2.84346C0.905877 3.69926 0.923957 2.90373 0.923957 16.018C0.923957 22.5752 0.936011 27.9631 0.948064 27.9812C0.978198 28.0415 1.0686 28.608 1.06257 28.6984C1.06257 28.7406 1.08065 28.7767 1.11079 28.7767C1.14092 28.7767 1.16503 28.8129 1.16503 28.8611C1.16503 28.9636 1.53869 29.6325 1.75565 29.9218C2.03289 30.2834 2.44271 30.645 2.87664 30.9042C3.10565 31.0428 3.32262 31.1633 3.35878 31.1694C3.39494 31.1814 3.61793 31.2417 3.84695 31.3019C4.25677 31.4165 4.54606 31.4225 13.8815 31.4225C24.6153 31.4285 23.7836 31.4647 24.7298 30.9946C25.4469 30.639 26.0617 30.0243 26.4052 29.3191C26.9115 28.2885 26.8693 29.518 26.8693 15.9999C26.8693 2.48185 26.9115 3.71132 26.4052 2.68074C26.0617 1.96958 25.4409 1.34882 24.7298 1.00529C23.7775 0.541227 24.6032 0.57136 13.8815 0.577387C4.57619 0.577387 4.25677 0.583414 3.82284 0.691896ZM13.8454 7.67694C13.8876 7.7131 13.9418 7.72516 13.9599 7.70708C13.978 7.689 14.0322 7.69502 14.0744 7.71913C14.1588 7.77337 14.1889 7.78542 14.3396 7.79748C14.3878 7.79748 14.4119 7.82761 14.3938 7.86377C14.3757 7.89391 14.3938 7.90596 14.442 7.88788C14.5324 7.85775 15.1592 8.14703 15.1954 8.23743C15.2074 8.26154 15.2557 8.28565 15.2978 8.28565C15.3943 8.28565 15.8282 8.53275 15.8583 8.59904C15.8704 8.62315 15.9065 8.64725 15.9427 8.64725C16.1356 8.64725 17.1903 9.6477 17.1481 9.79837C17.142 9.8285 17.1601 9.85261 17.1903 9.85261C17.2385 9.85261 17.3831 10.1419 17.4193 10.3167C17.4313 10.3589 17.4434 10.4312 17.4554 10.4673C17.4615 10.5095 17.4976 10.5879 17.5278 10.6361C17.5639 10.6843 17.588 11.293 17.594 12.0162C17.6001 13.2577 17.6001 13.312 17.7206 13.3542C17.7869 13.3783 17.9014 13.4747 17.9798 13.5711C18.0822 13.7037 18.1063 13.7881 18.0762 13.987C18.04 14.2582 17.7086 14.9754 17.6182 14.9754C17.582 14.9754 17.5639 14.9995 17.576 15.0296C17.594 15.1019 17.3048 15.5781 17.2445 15.5781C17.2144 15.5781 17.1963 15.6202 17.1963 15.6685C17.1963 15.7227 17.1541 15.7769 17.1059 15.795C17.0577 15.8191 17.0275 15.8553 17.0456 15.8794C17.0577 15.9035 17.0094 15.9939 16.9311 16.0783C16.8528 16.1627 16.8045 16.247 16.8226 16.2651C16.8407 16.2832 16.8226 16.3013 16.7865 16.3013C16.7443 16.3013 16.7141 16.3435 16.7141 16.3917C16.7141 16.4459 16.6719 16.5002 16.6237 16.5182C16.5755 16.5423 16.5333 16.5966 16.5333 16.6388C16.5333 16.687 16.4911 16.7412 16.4429 16.7593C16.3947 16.7834 16.3646 16.8196 16.3827 16.8437C16.3947 16.8678 16.3405 16.9642 16.2621 17.0486C16.1778 17.139 16.1115 17.2294 16.1115 17.2475C16.1115 17.2656 16.0452 17.374 15.9608 17.4825C15.8644 17.6091 15.8342 17.6935 15.8704 17.7176C15.9065 17.7417 15.9246 17.7899 15.9126 17.826C15.8885 17.9104 16.1416 18.3444 16.2862 18.4589C16.4369 18.5794 16.901 18.8084 17.1661 18.8928C17.2987 18.935 17.4434 19.0073 17.4856 19.0555C17.5338 19.0977 17.594 19.1218 17.6242 19.1037C17.6844 19.0615 18.3534 19.2544 18.4077 19.3267C18.4257 19.3569 18.5403 19.393 18.6608 19.4051C18.938 19.4412 19.3659 19.61 19.3659 19.6883C19.3659 19.7185 19.39 19.7305 19.4202 19.7124C19.4865 19.6702 20.1675 20.1162 20.3182 20.3031C20.3784 20.3874 20.4507 20.4356 20.4749 20.4176C20.4929 20.3995 20.511 20.4236 20.511 20.4778C20.511 20.5381 20.5351 20.5803 20.5713 20.5803C20.6436 20.5803 20.9932 21.189 20.957 21.2553C20.9389 21.2794 20.957 21.3035 20.9992 21.3035C21.0414 21.3035 21.0534 21.3216 21.0353 21.3457C21.0112 21.3638 21.0233 21.418 21.0534 21.4542C21.1438 21.5627 21.2945 22.304 21.2945 22.6415V22.9307H13.8755H6.45655L6.49873 22.5269C6.59516 21.635 6.86034 20.9901 7.36659 20.4477C7.54137 20.2548 7.71012 20.1102 7.73423 20.1283C7.75833 20.1464 7.79449 20.1223 7.81257 20.0801C7.84271 19.9957 8.57798 19.5798 8.57798 19.6461C8.57798 19.6702 8.62016 19.6401 8.6744 19.5919C8.75878 19.5075 8.88534 19.4653 9.01793 19.4894C9.04204 19.4894 9.06012 19.4714 9.06012 19.4412C9.06012 19.4111 9.15052 19.3629 9.259 19.3388C9.51213 19.2785 9.48802 19.2845 9.68088 19.2062C9.77731 19.164 9.87373 19.1459 9.90387 19.164C9.934 19.1821 9.96414 19.176 9.97619 19.1519C10.0003 19.0856 10.8139 18.8084 10.9405 18.8144C11.0007 18.8205 11.049 18.8024 11.049 18.7783C11.049 18.7481 11.1273 18.6939 11.2298 18.6517C11.513 18.5372 11.8927 18.0852 11.8927 17.8682C11.8927 17.7417 11.9168 17.6935 11.965 17.7236C12.0554 17.7839 12.0193 17.7236 11.4106 16.8437C10.2414 15.1562 10.0967 14.9332 9.95208 14.6439C9.86771 14.4752 9.77731 14.2582 9.75923 14.1497C9.69896 13.8785 9.89784 13.4446 10.1329 13.324L10.3137 13.2276L10.2836 12.191C10.2474 10.9977 10.2956 10.6301 10.5728 10.0455C10.7717 9.62962 11.4769 8.84614 11.5914 8.91846C11.6275 8.94257 11.6516 8.92449 11.6516 8.88832C11.6516 8.85217 11.8264 8.73766 12.0434 8.64123C12.3266 8.50864 12.4713 8.39413 12.5677 8.23743C12.64 8.1169 12.7967 7.91199 12.9173 7.7794C13.1222 7.55641 13.1342 7.55038 13.4476 7.58051C13.6224 7.59859 13.8032 7.64078 13.8454 7.67694Z" fill="#0087FF"/>
                <path d="M27.9359 8.358L27.954 11.2689L29.3703 11.287C30.1477 11.2991 30.877 11.287 30.9854 11.2689C31.0939 11.2509 31.2747 11.1484 31.3892 11.0459L31.6002 10.8651V8.43032V5.9955L31.4073 5.77854C31.2807 5.64595 31.118 5.54952 30.9674 5.51336C30.8348 5.48322 30.0935 5.45309 29.322 5.45309H27.9238L27.9359 8.358Z" fill="#0087FF"/>
                <path d="M27.9359 15.9216L27.954 18.8024L29.6234 18.8145C30.5455 18.8145 31.2868 18.8024 31.2807 18.7843C31.2747 18.7602 31.347 18.6698 31.4374 18.5794L31.6002 18.4167V15.9698V13.529L31.3953 13.2999L31.1903 13.077L29.5571 13.0589L27.9238 13.0408L27.9359 15.9216Z" fill="#0087FF"/>
                <path d="M27.966 20.743C27.9419 20.7611 27.9238 22.0569 27.9238 23.6238C27.9238 25.7513 27.9419 26.4805 27.9961 26.5348C28.0866 26.6252 30.7926 26.6372 30.8468 26.5468C30.8649 26.5107 30.9553 26.4865 31.0397 26.4865C31.1301 26.4865 31.2687 26.4082 31.3953 26.2816L31.6002 26.0767V23.6359V21.195L31.4555 21.0202C31.3711 20.9238 31.2024 20.8093 31.0698 20.7732C30.8167 20.6948 28.0383 20.6707 27.966 20.743Z" fill="#0087FF"/>
                </g>
                <defs>
                <clipPath id="clip0_4870_13061">
                <rect width="30.8571" height="30.8571" fill="white" transform="translate(0.742188 0.571411)"/>
                </clipPath>
                </defs>
            </svg>
        ,
            label: t("dashboard.Contacts"),
            current: data?.totalContactLimit || 0,
            total: '∞',
        },
    ];

    return (
        <div className="bg-white rounded-[10px] px-5 py-4.5">
            <div className="flex justify-between items-center mb-6">
                <h3 className="font-[500] text-[24px]">{t("dashboard.Monthly Usage")}</h3>
                <button className="bg-blue-500 text-white text-[20px] py-2.5 px-12 rounded-[10px] flex items-center">
                    <BarChartOutlined className="mr-1" /> {t("dashboard.Statistics")}
                </button>
            </div>

            {usageData.map((item, i) => (
                <div key={i} className="flex items-center space-x-4 mb-5 border border-[#0087FF33] p-4 rounded-[10px] bg-white gap-7">
                    <div className="text-xl text-blue-500 m-0 bg-[#0087FF33] min-w-[60px] h-[60px] flex items-center justify-center rounded-[6px]">
                        {item.icon}
                    </div>
                    <div className="w-full flex items-end gap-[20px]">
                        <div className='flex-1 mb-[10px]'>
                            <div className="text-[20px] text-[#000407] font-medium mb-[6px]">{item.label}</div>
                            <div className="w-full h-2 bg-gray-200 rounded-full">
                                <div
                                    className="h-3 bg-blue-500 rounded-[4px]"
                                    style={{ width: `${(item.current / (item.total === '∞' ? 2000 : item.total)) * 100}%` }}
                                ></div>
                            </div>
                        </div>
                        <div className="text-right text-[20px] text-[#0087FF] font-semibold w-[120px]">
                            {item.current}/{item.total}
                        </div>
                    </div>
                </div>
            ))}
        </div>
    );
};

MonthlyUsage.propTypes = {
    data: PropTypes.shape({
        fbMessageLimit: PropTypes.number,
        igMessageLimit: PropTypes.number,
        tagsLimit: PropTypes.number,
        aiLimits: PropTypes.number,
        totalContactLimit: PropTypes.number,
    }),
};

export default MonthlyUsage;
